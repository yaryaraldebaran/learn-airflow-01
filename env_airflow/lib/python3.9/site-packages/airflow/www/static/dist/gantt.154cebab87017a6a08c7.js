/*! For license information please see gantt.154cebab87017a6a08c7.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Airflow=e():(t.Airflow=t.Airflow||{},t.Airflow.gantt=e())}(self,(()=>(()=>{"use strict";var t={4965:(t,e,a)=>{a.d(e,{dagTZ:()=>s});var n=a(8956),o=a(1068),r=a(3307);const d=(0,n.au)("dag_id"),i=(0,n.au)("paused_url"),s=(0,n.au)("dag_timezone"),l=(0,n.au)("datasets_url"),m={createAfter:(0,n.au)("next_dagrun_create_after"),intervalStart:(0,n.au)("next_dagrun_data_interval_start"),intervalEnd:(0,n.au)("next_dagrun_data_interval_end")};let c,u=[];const p=(t,e)=>{u=t,c=e};$(window).on("load",(function(){$(`a[href*="${this.location.pathname}"]`).parent().addClass("active"),$(".never_active").removeClass("active");const t=$("#next-dataset-tooltip");$(t).data("uri")||(0,r.l)(d,t,p)})),$("#pause_resume").on("change",(function(){const t=$(this),e=t.data("dag-id"),a=t.is(":checked"),n=`${i}?is_paused=${a}&dag_id=${encodeURIComponent(e)}`;t.trigger("blur"),t.removeClass("switch-input--error");const o=new CustomEvent("paused",{detail:a});document.dispatchEvent(o),$.post(n).fail((()=>{setTimeout((()=>{t.prop("checked",!a),t.addClass("switch-input--error"),o.value=!a,document.dispatchEvent(o)}),500)}))})),$("#next-run").on("mouseover",(()=>{$("#next-run").attr("data-original-title",(()=>{let t="";return m.createAfter&&(t+=`<strong>Run After:</strong> ${(0,o.o0)(m.createAfter)}<br>`,t+=`Next Run: ${(0,o.K5)(m.createAfter)}<br><br>`),m.intervalStart&&m.intervalEnd&&(t+="<strong>Data Interval</strong><br>",t+=`Start: ${(0,o.o0)(m.intervalStart)}<br>`,t+=`End: ${(0,o.o0)(m.intervalEnd)}`),t}))})),$(".next-dataset-triggered").on("click",(t=>{const e=$("#next-dataset-tooltip"),a=$(t.target).data("summary"),n=$(e).data("uri");n?window.location.href=`${l}?uri=${encodeURIComponent(n)}`:(0,r.R)(d,a,u,c)}))},3307:(t,e,a)=>{a.d(e,{R:()=>o,l:()=>r});var n=a(8956);function o(t,e="",a=[],o=null){const r=(0,n.au)("datasets_url");$("#datasets_tbody").empty(),$("#datasets_error").hide(),$("#dag_id").text(t),$("#datasetNextRunModal").modal({}),$("#next_run_summary").text(e),a.forEach((t=>{const e=document.createElement("tr"),a=document.createElement("td"),n=document.createElement("a");n.href=`${r}?uri=${encodeURIComponent(t.uri)}`,n.innerText=t.uri,a.append(n);const o=document.createElement("td");t.lastUpdate&&o.append(isoDateToTimeEl(t.lastUpdate)),e.append(a),e.append(o),$("#datasets_tbody").append(e)})),o&&($("#datasets_error_msg").text(o),$("#datasets_error").show())}function r(t,e,a){let o=(0,n.au)("next_run_datasets_url");t&&(o.includes("__DAG_ID__")&&(o=o.replace("__DAG_ID__",t)),$.get(o).done((t=>{let n=0,o="<strong>Pending datasets:</strong><br>";a(t),t.forEach((t=>{t.created_at||(n<4&&(o+=`${t.uri}<br>`),n+=1)})),n>4&&(o+=`<br>And ${n-4} more.`),o+="<br>Click to see more details.",$(e).attr("data-original-title",(()=>o))})).fail(((t,e,n)=>{const o=t.responseJSON&&t.responseJSON.error||"Something went wrong.";a([],`${e}: ${n} ${o}`)})))}},1068:(t,e,a)=>{a.d(e,{$O:()=>i,K5:()=>u,M1:()=>s,n0:()=>l,o0:()=>m,oY:()=>c,sK:()=>n,z6:()=>d});const n="YYYY-MM-DD, HH:mm:ss",o="YYYY-MM-DD, HH:mm:ss z",r="z (Z)",d="YYYY-MM-DDThh:mm:ssTZD",i="timezone";function s(t){return t instanceof moment?t.isUTC()?"UTC":t.format(r):"UTC"===t?t:moment().tz(t).format(r)}function l(t,e){const a=moment(t),o=$.extend({title:!0},e).title,r=document.createElement("time");return r.setAttribute("datetime",a.format()),o&&r.setAttribute("title",a.isUTC()?"":`UTC: ${a.clone().utc().format()}`),r.innerText=a.format(n),r}const m=t=>moment(t).format(o);function c(t){moment.tz.setDefault(t),$('time[data-datetime-convert!="false"]').each(((t,e)=>{const a=$(e),r=moment(a.attr("datetime"));r._isValid&&a.text(r.format(a.data("with-tz")?o:n)),void 0!==a.attr("title")&&a.attr("title",r.isUTC()?"":`UTC: ${r.clone().utc().format()}`)})),$(".datetime input").each(((t,e)=>{e.value=moment(e.value).format()}))}const u=t=>`${moment(t).fromNow()}`},5122:(t,e,a)=>{a.d(e,{escapeHtml:()=>i});var n=a(1068);function o(){const t=moment();$("#clock").attr("datetime",t.format(n.z6)).html(`${t.format("HH:mm")} <strong>${(0,n.M1)(t)}</strong>`)}function r(t){localStorage.setItem("selected-timezone",t);const e=new CustomEvent(n.$O,{detail:t});document.dispatchEvent(e),(0,n.oY)(t),o(),$("body").trigger({type:"airflow.timezone-change",timezone:t})}window.isoDateToTimeEl=n.n0,window.moment=Airflow.moment;const d=document.createElement("span");function i(t){return d.textContent=t,d.innerHTML}function s(t){const e=$(t),a=$(".filter_val.form-control",e.parents("tr"));"Is Null"===e.text()||"Is not Null"===e.text()?(void 0!==a.attr("required")&&(a.removeAttr("required"),a.attr("airflow-required",!0)),1===a.parent(".datetime").length?a.parent(".datetime").hide():a.hide()):("true"===a.attr("airflow-required")&&(a.attr("required",!0),a.removeAttr("airflow-required")),1===a.parent(".datetime").length?a.parent(".datetime").show():a.show())}window.escapeHtml=i,window.convertSecsToHumanReadable=function(t){const e=t,a=e-Math.floor(e);t=Math.floor(t);const n=Math.floor(t/3600);t-=3600*n;const o=Math.floor(t/60);let r="";return n>0&&(r+=`${n}Hours `),o>0&&(r+=`${o}Min `),(t-=60*o)+a>0&&(Math.floor(e)===e?r+=`${t}Sec`:r+=`${(t+=a).toFixed(3)}Sec`),r},window.postAsForm=function(t,e){const a=$("<form></form>");a.attr("method","POST"),a.attr("action",t),$.each(e||{},((t,e)=>{const n=$("<input></input>");n.attr("type","hidden"),n.attr("name",t),n.attr("value",e),a.append(n)}));const n=$("<input></input>");n.attr("type","hidden"),n.attr("name","csrf_token"),n.attr("value",csrfToken),a.append(n),$(document.body).append(a),a.submit()},$(document).ready((()=>{!function(){const t=moment.tz.guess(),e=localStorage.getItem("selected-timezone"),a=localStorage.getItem("chosen-timezone");function o(e){localStorage.setItem("chosen-timezone",e),e!==t||e!==Airflow.serverTimezone?($("#timezone-manual a").data("timezone",e).text((0,n.M1)(e)),$("#timezone-manual").show()):$("#timezone-manual").hide()}a&&o(a),r(e||Airflow.defaultUITimezone),"UTC"!==Airflow.serverTimezone&&($("#timezone-server a").html(`${(0,n.M1)(Airflow.serverTimezone)} <span class="label label-primary">Server</span>`),$("#timezone-server").show()),Airflow.serverTimezone!==t?$("#timezone-local a").attr("data-timezone",t).html(`${(0,n.M1)(t)} <span class="label label-info">Local</span>`):$("#timezone-local").hide(),$("a[data-timezone]").click((t=>{r($(t.currentTarget).data("timezone"))})),$("#timezone-other").typeahead({source:$(moment.tz.names().map((t=>({category:t.split("/",1)[0],name:t.replace("_"," "),tzName:t})))),showHintOnFocus:"all",showCategoryHeader:!0,items:"all",afterSelect(t){this.$element.val(""),o(t.tzName),r(t.tzName),setTimeout((()=>{document.activeElement.blur(),this.shown=!1,this.focused=!1}),1)}})}(),$("#clock").attr("data-original-title",hostName).attr("data-placement","bottom").parent().show(),o(),setInterval(o,1e3),$.ajaxSetup({beforeSend(t,e){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(e.type)||this.crossDomain||t.setRequestHeader("X-CSRFToken",csrfToken)}}),$.fn.datetimepicker.defaults.sideBySide=!0,$(".datetimepicker").datetimepicker({format:"YYYY-MM-DDTHH:mm:ssZ"}),$(".filters .select2-chosen").each(((t,e)=>{s(e)})),$(".filters .select2-chosen").on("DOMNodeInserted",(t=>{s(t.target)})),$("#filter_form a.filter").click((()=>{$(".datetimepicker").datetimepicker(),$(".filters .select2-chosen").on("DOMNodeInserted",(t=>{s(t.target)}))})),$(".js-tooltip").tooltip()}))},3897:(t,e,a)=>{a.d(e,{default:()=>s});var n=a(5122),o=a(1068),r=a(4965),d=a(8956);function i(t,e){const a=e&&e instanceof moment&&e.isValid();return`Started: ${t.format(o.sK)}<br>Ended: ${a?e.format(o.sK):"Not ended yet"}<br>`}function s(t,e,{includeTryNumber:a=!1}={}){let s="";if(void 0!==t.state&&(s+=`<strong>Status:</strong> ${(0,n.escapeHtml)(t.state)}<br><br>`),t.mapped_states){const e=(0,d.Z2)();t.mapped_states.forEach((t=>{const a=t||"no_status";e.has(a)&&e.set(a,e.get(a)+1)})),s+=`<strong>${(0,n.escapeHtml)(t.mapped_states.length)} ${1===t.mapped_states.length?"Task":"Tasks"} Mapped</strong><br />`,e.forEach(((t,e)=>{t>0&&(s+=`<span style="margin-left: 15px">${(0,n.escapeHtml)(e)}: ${(0,n.escapeHtml)(t)}</span><br />`)})),s+="<br />"}if(void 0!==t.task_id&&(s+=`Task_id: ${(0,n.escapeHtml)(t.task_id)}<br>`),s+=`Run: ${(0,o.o0)(t.execution_date)}<br>`,void 0!==t.run_id&&(s+=`Run Id: <nobr>${(0,n.escapeHtml)(t.run_id)}</nobr><br>`),t.map_index>=0&&!t.mapped_states&&(s+=`Map Index: ${(0,n.escapeHtml)(t.map_index)}<br>`),void 0!==t.operator&&(s+=`Operator: ${(0,n.escapeHtml)(t.operator)}<br>`),e&&e.trigger_rule&&(s+=`Trigger Rule: ${e.trigger_rule}<br>`),"running"===t.state){const e=t.start_date instanceof moment?t.start_date:moment(t.start_date);t.duration=moment().diff(e,"second")}else if(!t.duration&&t.end_date){const e=t.start_date instanceof moment?t.start_date:moment(t.start_date),a=t.end_date instanceof moment?t.end_date:moment(t.end_date);t.duration=moment(a).diff(e,"second")}s+=`Duration: ${(0,n.escapeHtml)(convertSecsToHumanReadable(t.duration))}<br>`;const l=t.data_interval_start,m=t.data_interval_end;return l&&m&&(s+="<br><strong>Data Interval:</strong><br>",s+=`Start: ${(0,o.o0)(l)}<br>`,s+=`End: ${(0,o.o0)(m)}<br>`),a&&(s+=`Try Number: ${(0,n.escapeHtml)(t.try_number)}<br>`),s+=function(t,e,a){if(!t)return"<br><em>Not yet started</em>";const n="z (Z)",o=moment.defaultZone.name.toUpperCase(),r=moment.utc(t),d=moment.utc(e),s=a.toUpperCase();let l="<br><strong>UTC:</strong><br>";l+=i(r,d),"UTC"!==o&&(r.tz(o),l+=`<br><strong>Local: ${r.format(n)}</strong><br>`,l+=i(r,d&&d instanceof moment?d.tz(o):d));"UTC"!==s&&s!==o&&(r.tz(s),l+=`<br><strong>DAG's TZ: ${r.format(n)}</strong><br>`,l+=i(r,d&&d instanceof moment?d.tz(s):d));return l}(t.start_date,t.end_date,r.dagTZ||"UTC"),s}window.tiTooltip=s,window.taskNoInstanceTooltip=function(t,e){let a="";return t&&(a+=`Task_id: ${(0,n.escapeHtml)(t)}<br>`),void 0!==e.task_type&&(a+=`Operator: ${(0,n.escapeHtml)(e.task_type)}<br>`),a+="<br><em>DAG has yet to run.</em>",a}},8956:(t,e,a)=>{a.d(e,{Z2:()=>o,au:()=>n});function n(t){const e=document.querySelector(`meta[name="${t}"]`);return e&&e.getAttribute("content")||""}const o=()=>new Map([["success",0],["failed",0],["upstream_failed",0],["up_for_retry",0],["up_for_reschedule",0],["running",0],["deferred",0],["queued",0],["scheduled",0],["skipped",0],["no_status",0]])}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{a.r(n);var t=a(3897),e=a(8956),o=a(1068);const r=(0,e.au)("dag_id"),d=(0,e.au)("logs_with_metadata_url"),i=(0,e.au)("external_log_url"),s=(0,e.au)("extra_links_url"),l="True"===(0,e.au)("show_external_log_redirect"),m=Array.from(document.querySelectorAll('a[id^="btn_"][data-base-url]')).reduce(((t,e)=>(t[e.id.replace("btn_","")]=e,t)),{});function c(t,e){let a=t.dataset.baseUrl;e.dag_id&&-1!==t.dataset.baseUrl.indexOf(r)&&(a=a.replace(r,e.dag_id),delete e.dag_id),Object.prototype.hasOwnProperty.call(e,"map_index")&&void 0===e.map_index&&delete e.map_index,t.setAttribute("href",`${a}?${$.param(e)}`)}const u=function t({taskId:e,executionDate:a,extraLinks:n,tryNumber:u,isSubDag:p,dagRunId:_,mapIndex:f=-1,isMapped:g=!1,mappedStates:h=[]}){$(".map_index_item").off("click"),$("form[data-action]").off("submit");const x=String(window.location);let b;if($("#btn_filter").on("click",(()=>{window.location=function(t,e,a){const n=new RegExp(`([?&])${e}=.*?(&|$)`,"i"),o=-1!==t.indexOf("?")?"&":"?";return t.match(n)?t.replace(n,`$1${e}=${a}$2`):`${t}${o}${e}=${a}`}(x,"root",e)})),$("#dag_run_id").text(_),$("#task_id").text(e),$("#execution_date").text((0,o.o0)(a)),$("#taskInstanceModal").modal({}),$("#taskInstanceModal").css("margin-top","0"),$("#extra_links").prev("hr").hide(),$("#extra_links").empty().hide(),f>=0?($("#modal_map_index").show(),$("#modal_map_index .value").text(f)):($("#modal_map_index").hide(),$("#modal_map_index .value").text("")),p?($("#div_btn_subdag").show(),b=`${r}.${e}`):$("#div_btn_subdag").hide(),f>=0&&!h.length)$("#modal_map_index").show(),$("#modal_map_index .value").text(f),$("#mapped_dropdown").hide();else if(f>=0||g){$("#modal_map_index").show(),$("#modal_map_index .value").text(""),$("#mapped_dropdown").show();const t=f>-1?f:`All  ${h.length} Mapped Instances`;$("#mapped_dropdown #dropdown-label").text(t),$("#mapped_dropdown .dropdown-menu").empty(),$("#mapped_dropdown .dropdown-menu").append(`<li><a href="#" class="map_index_item" data-mapIndex="all">All ${h.length} Mapped Instances</a></li>`),h.forEach(((t,e)=>{$("#mapped_dropdown .dropdown-menu").append(`<li><a href="#" class="map_index_item" data-mapIndex="${e}">${e} - ${t}</a></li>`)}))}else $("#modal_map_index").hide(),$("#modal_map_index .value").text(""),$("#mapped_dropdown").hide();g?($("#task_actions").text(`Task Actions for all ${h.length} instances`),$("#btn_mapped").show(),$("#mapped_dropdown").css("display","inline-block"),$("#btn_rendered").hide(),$("#btn_xcom").hide(),$("#btn_log").hide(),$("#btn_task").hide()):($("#task_actions").text("Task Actions"),$("#btn_rendered").show(),$("#btn_xcom").show(),$("#btn_log").show(),$("#btn_mapped").hide(),$("#btn_task").show()),$("#dag_dl_logs").hide(),$("#dag_redir_logs").hide(),u>0&&!g&&($("#dag_dl_logs").show(),l&&$("#dag_redir_logs").show()),function({executionDate:t,subDagId:e,taskId:a,mapIndex:n,dagRunId:o}){c(m.subdag,{dag_id:e,execution_date:t}),c(m.task,{dag_id:r,task_id:a,execution_date:t,map_index:n}),c(m.rendered,{dag_id:r,task_id:a,execution_date:t,map_index:n}),c(m.mapped,{_flt_3_dag_id:r,_flt_3_task_id:a,_flt_3_run_id:o,_oc_TaskInstanceModelView:"map_index"}),m.rendered_k8s&&c(m.rendered_k8s,{dag_id:r,task_id:a,execution_date:t,map_index:n});const d={_flt_3_dag_id:r,_flt_3_task_id:a,_oc_TaskInstanceModelView:"dag_run.execution_date"};n>=0&&(d._flt_0_map_index=n),c(m.ti,d),c(m.log,{dag_id:r,task_id:a,execution_date:t,map_index:n}),c(m.xcom,{dag_id:r,task_id:a,execution_date:t,map_index:n})}({executionDate:a,subDagId:b,taskId:e,mapIndex:f,dagRunId:_}),$("#try_index > li").remove(),$("#redir_log_try_index > li").remove();const v=u>2?0:1,w=new URLSearchParams({dag_id:r,task_id:e,execution_date:a,metadata:"null"});void 0!==f&&w.set("map_index",f);for(let t=v;t<u;t+=1){let e=t;0!==t?w.set("try_number",t):e="All",$("#try_index").append(`<li role="presentation" style="display:inline">\n      <a href="${d}?${w}&format=file"> ${e} </a>\n      </li>`),(0!==t||l)&&$("#redir_log_try_index").append(`<li role="presentation" style="display:inline">\n      <a href="${i}?${w}"> ${e} </a>\n      </li>`)}if(w.delete("try_number"),!g&&n&&n.length>0){const t=[];n.sort(),$.each(n,((e,a)=>{w.set("link_name",a);const n=$('<a href="#" class="btn btn-primary disabled"></a>'),o=$('<span class="tool-tip" data-toggle="tooltip" style="padding-right: 2px; padding-left: 3px" data-placement="top" title="link not yet available"></span>');o.append(n),n.text(a),$.ajax({url:`${s}?${w}`,cache:!1,success(t){n.attr("href",t.url),/^(?:[a-z]+:)?\/\//.test(t.url)&&n.attr("target","_blank"),n.removeClass("disabled"),o.tooltip("disable")},error(t){o.tooltip("hide").attr("title",t.responseJSON.error).tooltip("fixTitle")}}),t.push(o)}));const e=$("#extra_links");e.prev("hr").show(),e.append(t).show(),e.find('[data-toggle="tooltip"]').tooltip()}$("form[data-action]").on("submit",(function(t){t.preventDefault();const n=$(this).get(0);(_||a)&&(n.dag_run_id&&(n.dag_run_id.value=_),n.execution_date&&(n.execution_date.value=a),n.origin.value=window.location,n.task_id&&(n.task_id.value=e),n.map_index&&f>=0?n.map_index.value=f:n.map_index&&n.map_index.remove(),n.action=$(this).data("action"),n.submit())})),$(".map_index_item").on("click",(function(){const o=$(this).attr("data-mapIndex");t("all"===o?{taskId:e,executionDate:a,dagRunId:_,extraLinks:n,mapIndex:-1,isMapped:!0,mappedStates:h}:{taskId:e,executionDate:a,dagRunId:_,extraLinks:n,mapIndex:o})}))},p={a:"ddd",A:"dddd",b:"MMM",B:"MMMM",c:"lll",d:"DD","-d":"D",e:"D",F:"YYYY-MM-DD",H:"HH","-H":"H",I:"hh","-I":"h",j:"DDDD","-j":"DDD",k:"H",l:"h",m:"MM","-m":"M",M:"mm","-M":"m",p:"A",P:"a",S:"ss","-S":"s",u:"E",w:"d",W:"WW",x:"ll",X:"LTS",y:"YY",Y:"YYYY",z:"ZZ",Z:"z",f:"SSS","%":"%"};moment.fn.strftime=function(t){const e=t.split(/(%-?.)/).map((t=>"%"===t[0]&&Object.getOwnPropertyDescriptor(p,t.substr(1))?p[t.substr(1)]:t.length>0?`[${t}]`:t)).join("");return this.format(e)},d3.gantt=()=>{const e=d3.tip().attr("class","tooltip d3-tip").offset([-10,0]).html((e=>(0,t.default)(e,null,{includeTryNumber:!0})));let a={top:20,right:40,bottom:20,left:150};const n=220;let o="body",r=d3.time.day.offset(new Date,-3),d=d3.time.hour.offset(new Date,3),i="fit",s=[],l=document.body.clientHeight-a.top-a.bottom-5,m=$(".gantt").width()-a.right-a.left-5,c="%H:%M";const p=t=>t.start_date+t.task_id+t.end_date;let _=d3.time.scale().domain([r,d]).range([0,m-n]).clamp(!0),f=d3.scale.ordinal().domain(s).rangeRoundBands([0,l-a.top-a.bottom],.1);const g=t=>`translate(${_(t.start_date.valueOf())+n},${f(t.task_id)})`,h=t=>moment(t).strftime(c);let x=d3.svg.axis().scale(_).orient("bottom").tickFormat(h).tickSubdivide(!0).tickSize(8).tickPadding(8),b=d3.svg.axis().scale(f).orient("left").tickSize(0);const v=t=>{if("fit"===i){if(void 0===t||t.length<1)return r=d3.time.day.offset(new Date,-3),void(d=d3.time.hour.offset(new Date,3));t.forEach((t=>{t.start_date instanceof moment||(t.start_date=moment(t.start_date)),t.end_date instanceof moment||(t.end_date=moment(t.end_date))})),d=moment.max(t.map((t=>t.end_date))).valueOf(),r=moment.min(t.map((t=>t.start_date))).valueOf()}},w=()=>{_=d3.time.scale().domain([r,d]).range([0,m-n]).clamp(!0),f=d3.scale.ordinal().domain(s).rangeRoundBands([0,l-a.top-a.bottom],.1),x=d3.svg.axis().scale(_).orient("bottom").tickFormat(h).tickSubdivide(!0).tickSize(8).tickPadding(8),b=d3.svg.axis().scale(f).orient("left").tickSize(0)};function k(t){v(t),w();const n=d3.select(o).append("svg").attr("class","chart").attr("width",m+a.left+a.right).attr("height",l+a.top+a.bottom).append("g").attr("class","gantt-chart").attr("width",m+a.left+a.right).attr("height",l+a.top+a.bottom).attr("transform",`translate(${a.left}, ${a.top})`);return n.selectAll(".chart").data(t,p).enter().append("rect").on("mouseover",e.show).on("mouseout",e.hide).on("click",(t=>{u({taskId:t.task_id,executionDate:t.execution_date,extraLinks:t.extraLinks,dagRunId:t.run_id,mapIndex:t.map_index})})).attr("class",(t=>t.state||"null")).attr("y",0).attr("transform",g).attr("height",(()=>f.rangeBand())).attr("width",(t=>d3.max([_(t.end_date.valueOf())-_(t.start_date.valueOf()),1]))),n.append("g").attr("class","x axis").attr("transform",`translate(220, ${l-a.top-a.bottom})`).transition().call(x),n.append("g").attr("class","y axis").transition().attr("transform","translate(220, 0)").call(b),n.call(e),k}return k.redraw=t=>{v(t),w();const e=d3.select(".chart"),a=e.select(".gantt-chart").selectAll("rect").data(t,p);return a.enter().insert("rect",":first-child").attr("rx",5).attr("ry",5).attr("class",(t=>t.state||"null")).transition().attr("y",0).attr("transform",g).attr("height",(()=>f.rangeBand())).attr("width",(t=>d3.max([_(t.end_date.valueOf())-_(t.start_date.valueOf()),1]))),a.exit().remove(),e.select(".x").transition().call(x),e.select(".y").transition().call(b),k},k.margin=function(t){return arguments.length?(a=t,k):a},k.timeDomain=function(t){return arguments.length?(r=+t[0],d=+t[1],k):[r,d]},k.timeDomainMode=function(t){return arguments.length?(i=t,k):i},k.taskTypes=function(t){return arguments.length?(s=t,k):s},k.width=function(t){return arguments.length?(m=+t,k):m},k.height=function(t){return arguments.length?(l=+t,k):l},k.tickFormat=function(t){return arguments.length?(c=t,k):c},k.selector=function(t){return arguments.length?(o=t,k):o},k},document.addEventListener("DOMContentLoaded",(()=>{const t=d3.gantt().taskTypes(data.taskNames).height(data.height).selector(".gantt").tickFormat("%H:%M:%S");t(data.tasks),$("body").on("airflow.timezone-change",(()=>{t.redraw(data.tasks)}))}))})(),n})()));